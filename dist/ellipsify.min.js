!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react/addons")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.Ellipsify=t(require("react/addons")):e.Ellipsify=t(e.React)}(this,function(e){return function(e){function t(i){if(r[i])return r[i].exports;var s=r[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function i(e){var t=e.atFront?o:s;return t(e,e.children,{visible:0})}function s(e,t,r){var i=[];return p.Children.forEach(t,function(t,o){var n=t&&t.props&&t.props.children;if(n){var l=s(e,n,r);l&&l.length&&i.push(p.cloneElement(t,{key:"child-"+o},l))}else{var a=e.visibleItems-r.visible;if(!a)return;var c=t.split(e.separator),u=c.length;if(u>a){r.visible=e.visibleItems;var h=c[0]?0:1;i.push(c.slice(0,a+h).join(e.separator))}else u&&(r.visible+=u,i.push(c.join(e.separator)))}}),i}function o(e,t,r){var i=[];return p.Children.forEach(t,function(s,n){var l=Array.isArray(t)?t[t.length-n-1]:s,a=l&&l.props&&l.props.children;if(a){var c=o(e,a,r);c&&c.length&&i.unshift(p.cloneElement(l,{key:"child-"+n},c))}else{var u=e.visibleItems-r.visible;if(!u)return;var h=l.split(e.separator),f=h.length;f>u?(r.visible=e.visibleItems,i.push(h.slice(-u).join(e.separator))):f&&(r.visible+=f,i.push(h.join(e.separator)))}}),i}function n(){}var p=r(1);e.exports=p.createClass({displayName:"Ellipsify",propTypes:{visible:p.PropTypes.bool,visibleItems:p.PropTypes.number,separator:p.PropTypes.string,more:p.PropTypes.node,moreClass:p.PropTypes.string,atFront:p.PropTypes.bool,onShow:p.PropTypes.func,children:p.PropTypes.node},getDefaultProps:function(){return{visible:!1,visibleItems:5,separator:" ",atFront:!1,onShow:n,moreClass:"more"}},componentWillReceiveProps:function(e){this.setState({visible:e.visible,content:i(e)})},getInitialState:function(){return{visible:!1,content:[]}},componentWillMount:function(){this.setState({content:i(this.props)})},render:function(){var e=this.state.visible,t=this.props.atFront;if(e)return p.createElement("div",null,this.props.children);var r=this.state.content,i=p.createElement("div",{key:"more",className:this.props.moreClass,onClick:this.show},this.props.more?this.props.more:"â€¦");return p.createElement("div",null,t?[i,r]:[r,i])},show:function(){this.setState({visible:!0,content:this.props.children}),this.props.onShow()}})},function(t,r){t.exports=e}])});