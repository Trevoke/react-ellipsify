!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react/addons")):"function"==typeof define&&define.amd?define(["react/addons"],r):"object"==typeof exports?exports.Ellipsify=r(require("react/addons")):e.Ellipsify=r(e["react/addons"])}(this,function(e){return function(e){function r(s){if(t[s])return t[s].exports;var o=t[s]={exports:{},id:s,loaded:!1};return e[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){"use strict";function s(e){var r=e.atFront?o:i;return r(e,e.children,{visible:0})}function o(e,r,t){var s=[];return p.Children.forEach(r,function(r){var i,n=r&&r.props&&r.props.children;if(n){var p=o(e,n,t);p&&p.length&&(i=a(r),i.props.children=p,s.push(i))}else{var l=e.visibleItems-t.visible;if(!l)return;var c=r.split(e.separator),u=c.length;if(u>l){t.visible=e.visibleItems;var f=c[0]?0:1;s.push(c.slice(0,l+f).join(e.separator))}else u&&(t.visible+=u,s.push(c.join(e.separator)))}}),s}function i(e,r,t){var s=[];return p.Children.forEach(r,function(o,n){var p,l=Array.isArray(r)?r[r.length-n-1]:o,c=l&&l.props&&l.props.children;if(c){var u=i(e,c,t);u&&u.length&&(p=a(l),p.props.children=u,s.unshift(p))}else{var f=e.visibleItems-t.visible;if(!f)return;var h=l.split(e.separator),v=h.length;v>f?(t.visible=e.visibleItems,s.push(h.slice(-f).join(e.separator))):v&&(t.visible+=v,s.push(h.join(e.separator)))}}),s}function n(){}var p=t(1),a=p.addons.cloneWithProps,l=t(2);e.exports=p.createClass({displayName:"Ellipsify",propTypes:{visible:p.PropTypes.bool,visibleItems:p.PropTypes.number,separator:p.PropTypes.string,more:p.PropTypes.string,moreClass:p.PropTypes.string,atFront:p.PropTypes.bool,onShow:p.PropTypes.func},getDefaultProps:function(){return{visible:!1,visibleItems:5,separator:" ",atFront:!0,onShow:n}},componentWillReceiveProps:function(e){this.setState({visible:e.visible,content:s(e)})},getInitialState:function(){return{visible:!1,content:[]}},componentWillMount:function(){this.setState({content:s(this.props)})},render:function(){var e=this.state.visible,r=this.props.atFront;if(e)return p.createElement("div",null,this.props.children);var t=this.state.content,s=p.createElement(l,{key:"more",more:this.props.more,moreClass:this.props.moreClass,onClick:this.show});return p.createElement("div",null,r?[t,s]:[s,t])},show:function(){this.setState({visible:!0,content:this.props.children}),this.props.onShow()}})},function(r,t,s){r.exports=e},function(e,r,t){"use strict";var s=t(1);e.exports=s.createClass({displayName:"More",propTypes:{more:s.PropTypes.string,moreClass:s.PropTypes.string},getDefaultProps:function(){return{more:"â€¦",moreClass:"more"}},render:function(){return s.createElement("a",s.__spread({href:"#",key:"more",className:this.props.moreClass},this.props),this.props.more)}})}])});