!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react/addons")):"function"==typeof define&&define.amd?define(["react/addons"],r):"object"==typeof exports?exports.Ellipsify=r(require("react/addons")):e.Ellipsify=r(e["react/addons"])}(this,function(e){return function(e){function r(i){if(s[i])return s[i].exports;var t=s[i]={exports:{},id:i,loaded:!1};return e[i].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var s={};return r.m=e,r.c=s,r.p="",r(0)}([function(e,r,s){"use strict";function i(e){var r=e.atFront?t:o;return r(e,e.children,{visible:0})}function t(e,r,s){var i=[];return p.Children.forEach(r,function(r){var o,n=r&&r.props&&r.props.children;if(n){var p=t(e,n,s);p&&p.length&&(o=l(r),o.props.children=p,i.push(o))}else{var a=e.visibleItems-s.visible;if(!a)return;var c=r.split(e.separator),u=c.length;if(u>a){s.visible=e.visibleItems;var f=c[0]?0:1;i.push(c.slice(0,a+f).join(e.separator))}else u&&(s.visible+=u,i.push(c.join(e.separator)))}}),i}function o(e,r,s){var i=[];return p.Children.forEach(r,function(t,n){var p,a=Array.isArray(r)?r[r.length-n-1]:t,c=a&&a.props&&a.props.children;if(c){var u=o(e,c,s);u&&u.length&&(p=l(a),p.props.children=u,i.unshift(p))}else{var f=e.visibleItems-s.visible;if(!f)return;var h=a.split(e.separator),v=h.length;v>f?(s.visible=e.visibleItems,i.push(h.slice(-f).join(e.separator))):v&&(s.visible+=v,i.push(h.join(e.separator)))}}),i}function n(){}var p=s(1),l=p.addons.cloneWithProps;e.exports=p.createClass({displayName:"Ellipsify",propTypes:{visible:p.PropTypes.bool,visibleItems:p.PropTypes.number,separator:p.PropTypes.string,more:p.PropTypes.string,moreClass:p.PropTypes.string,atFront:p.PropTypes.bool,onShow:p.PropTypes.func},getDefaultProps:function(){return{visible:!1,visibleItems:5,separator:" ",more:"â€¦",moreClass:"more",atFront:!0,onShow:n}},componentWillReceiveProps:function(e){this.setState({visible:e.visible})},getInitialState:function(){return{visible:!1}},render:function(){var e=this.state.visible,r=this.props.moreClass,s=this.props.more,t=this.props.atFront;return p.createElement("div",null,e?this.props.children:t?[i(this.props),p.createElement("span",{key:"more",className:r,onClick:this.onClick},s)]:[p.createElement("span",{key:"more",className:r,onClick:this.onClick},s),i(this.props)])},onClick:function(){this.setState({visible:!0}),this.props.onShow()}})},function(r,s,i){r.exports=e}])});